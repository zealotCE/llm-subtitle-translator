version: "3.8"

services:
  watcher:
    image: ghcr.io/zealotce/llm-subtitle-translator:latest
    container_name: auto-subtitle-watcher
    env_file:
      - .env
    volumes:
      - ./watch:/watch
      - ./output:/output
      - ./test_video:/test_video
    restart: unless-stopped
  web:
    build: ./web
    container_name: auto-subtitle-web
    ports:
      - "3000:3000"
    env_file:
      - .env
    environment:
      - WEB_PROJECT_ROOT=/app
      - WEB_CONFIG_PATH=.env
    volumes:
      - ./.env:/app/.env
      - ./.web:/app/.web
      - ./watch:/watch
      - ./test_video:/test_video
      - ./output:/output
      - ./logs:/app/logs
    restart: unless-stopped
